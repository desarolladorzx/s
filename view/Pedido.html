<div class="panel panel-default">
  <div class="panel-heading">
    <div class="box-header with-border">
      <h3 class="box-title" id="lblTitle">Lista de Notas de Venta</h3>
      <div class="box-tools pull-right">
        <button class="btn btn-box-tool" data-widget="collapse">
          <i class="fa fa-minus"></i>
        </button>

        <button class="btn btn-box-tool" data-widget="remove">
          <i class="fa fa-times"></i>
        </button>
      </div>
    </div>
  </div>
  <!-- /.box-header Nueva Nota de Venta -->
  <div class="box-body">
    <div class="row">
      <div class="col-md-12">
        <div class="col-sm-14" id="VerFormPed">
          <form name="frmPedidos" id="frmPedidos" enctype="multipart/form-data">
            <div class="row">
              <div
                class="col-sm-12 col-sm-offset-0 col-lg-12 col-lg-offset-0 main"
              >
                <div class="row">
                  <div class="col-lg-10 left">
                    <label id="inputCliente">Cliente:</label>

                     <select
                      class="form-control form-control-select2 form-control-lg"
                      name="slc_select_cliente"
                      id="slc_select_cliente"
                      required
                      style="width: 100%"
                    >
                      <option value="- Elegir opción -">
                        - Seleccione un Cliente -
                      </option>
                    </select>

                    <div class="form-group has-success">
                      <input id="txtIdTipoUsuario" type="hidden" value="<?php echo $_SESSION["tipo_usuario"] ?>"
                      maxlength="50" class="form-control" name="txtIdUsuario"
                      required="" placeholder="" autofocus="" />
                      <input id="txtIdEmpleado" type="hidden" value="<?php echo $_SESSION["idempleado"] ?>"
                      maxlength="50" class="form-control" name="txtIdUsuario"
                      required="" placeholder="" autofocus="" />


                      <input
                      id="txtSucursal" type="hidden" value="<?php echo $_SESSION["sucursal"] ?>"
                      maxlength="50" class="form-control" name="txtSucursal"
                      required="" placeholder="" autofocus="" /> 

                      
                      <input
                      id="txtIdUsuario" type="hidden" value="<?php echo $_SESSION["idusuario"] ?>"
                      maxlength="50" class="form-control" name="txtIdUsuario"
                      required="" placeholder="" autofocus="" /> <input
                      id="txtIdSucursal" type="hidden" value="<?php echo $_SESSION["idsucursal"] ?>"
                      maxlength="50" class="form-control" name="txtIdSucursal"
                      required="" placeholder="" autofocus="" />
                      <input
                        id="txtIdCliente"
                        type="hidden"
                        class="form-control"
                        name="txtIdCliente"
                        required
                        placeholder=""
                        autofocus=""
                      />

                    </div>
                  </div>
                  <div class="col-lg-4 left" style="display: none;">
                    <label id="inputImpuesto">Impuesto:</label>
                    <div class="form-group">
                      <div class="input-group has-success">
                        <input
                          id="txtImpuestoPed"
                          type="text"
                          class="form-control"
                          style="text-align: center"
                          name="txtImpuestoPed"
                          disabled
                        />
                        <div class="input-group-addon" id="Porcentaje">%</div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4 left" style="display: none;">
                    <label id="inputTipoPed">Tipo de Pedido:</label>
                    <div class="form-group has-success">
                      <select
                        id="cboTipoPedido"
                        name="cboTipoPedido"
                        class="form-control"
                        required
                      >
                        <option value="Pedido">Pedido</option>
                        <option value="Proforma">Proforma</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-2 left" >
                    <label id="inputNumero">Número de Nota de Venta:</label>
                    <div class="form-group has-success">
                      <input
                      disabled
                        id="txtNumeroPed"
                        type="text"
                        class="form-control"
                        style="text-align: center"
                        name="txtNumeroPed"
                        required
                      />
                    </div>
                  </div>
                </div>
                <div class="row" id="container_datos_cliente_seleccionado">
                  <div class="col-lg-2 left" >
                    <label id="inputNumero">Nombre y Apellido:</label>
                    <div class="form-group has-success">
                      <input
                      readonly
                        id="txtNuevoNombre"
                        type="text"
                        class="form-control"
                        style="text-align: center"
                        name="txtNuevoNombre"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-lg-2 left" >
                    <label id="inputNumero">Documento :</label>
                    <div class="form-group has-success">
                      <input
                      readonly
                        name="txtNuevoDocumento"
                        id="txtNuevoDocumento"
                        type="text"
                        class="form-control"
                        style="text-align: center"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-lg-2 left" >
                    <label id="inputNumero">Celulares :</label>
                    <div class="form-group has-success">
                      <input
                      name="txtNuevoCelulares"
                      id="txtNuevoCelulares"
                      type="text"
                      class="form-control"
                      style="text-align: center"
                      required readonly
                      />
                    </div>
                  </div>
                  <div class="col-lg-3 left" >
                    <label id="inputNumero">ubicacion:</label>
                    <div class="form-group has-success">
                      <input
                       name="txtNuevoUbicacion"
                        id="txtNuevoUbicacion"
                        type="text"
                        class="form-control"
                        style="text-align: center"
                        required
                        readonly
                      />
                    </div>
                  </div>
                  <div class="col-lg-3 left" >
                    <label id="inputNumero">Dirección :</label>
                    <div class="form-group has-success">
                      <input
                      readonly
                        id="txtNuevoDireccion"
                        name="txtNuevoDireccion"
                        type="text"
                        class="form-control"
                        style="text-align: center"
                        required
                      />
                    </div>
                  </div>
                  

                </div>
                <div class="row">
                  <div class="col-lg-4 left">
                    <label for="inputMarca">Cuenta Abonada / Medio de Pago:</label>
                    <div class="form-group has-success">
                      <select id="cboMetodoPago" name="cboMetodoPago" class="form-control" required="">
                        <option value=""></option>
                        <option value="CONTRAENTREGA(TODO MEDIO DE PAGO)">CONTRAENTREGA(TODO MEDIO DE PAGO)</option>
                        <option value="BCP">BCP</option>
                        <option value="YAPE">YAPE </option>
                        <option value="INTERBANK">INTERBANK</option>
                        <option value="BBVA">BBVA</option>
                        <option value="BANCO DE LA NACION">
                          BANCO DE LA NACION
                        </option>
                        <option value="MERCADO PAGO">MERCADO PAGO</option>
                        <option value="WESTERN UNION">WESTERN UNION</option>
                        <option value="AUSPICIO">AUSPICIO</option>
                        <option value="DESCUENTO FIN DE MES">
                          DESCUENTO FIN DE MES
                        </option>
                        <option value="MAS DE 2 PAGOS">
                          MAS DE 2 PAGOS
                        </option>
                      </select>
                    </div>
                  </div>

                 <div class="col-lg-2 left">
                  <label for="inputMarca">Transportes / Agencia de envio:</label>
                  <div class="form-group has-success">
                    <select id="cboAgenEnvio"  name="cboAgenEnvio" class="form-control Transportes_select" required="">
                      <option value=""></option>
                      <option value="RECOJO EN OFICINA-AREQUIPA">RECOJO EN OFICINA-AREQUIPA</option>
                      <option value="DELIVERY-AREQUIPA">DELIVERY-AREQUIPA</option>
                      <option value="DELIVERY-LIMA">DELIVERY-LIMA</option>
                      <option value="OLVA COURIER">OLVA COURIER</option>
                      <option value="SHALOM">SHALOM</option>
                      <option value="MARVISUR">MARVISUR</option>
                      <option value="MINIVAN">MINIVAN</option>
                      <option value="CARGOSUR">CARGOSUR</option>
                      <option value="TRANSP. FLORES">TRANSP. FLORES</option>
                      <option value="TRANSP. GRAEL">TRANSP. GRAEL</option>
                      <option value="PERU BUS">PERU BUS</option>
                      <option value="TARAPOTO COURIER">TARAPOTO COURIER</option>
                      <option value="FEDEX">FEDEX</option>
                    </select>
                  </div>
                </div>
                  <div class="col-lg-2 left">
                    <label for="inputMarca">Tipo de Entrega</label>
                    <div class="form-group has-success">
                      <select
                        id="cboModTipo_Entrega"
                        name="cboModTipo_Entrega"
                        class="form-control"
                        required=""
                      >
                        <option value=""></option>
                        <option value="DOMICILIO">DOMICILIO</option>
                        <option value="AGENCIA EMPRESA">AGENCIA EMPRESA</option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-2 left">
                    <label for="inputMarca">Promociones:</label>
                    <div class="form-group has-success">
                      <input
                        id="txtIdVenta"
                        type="hidden"
                        maxlength="50"
                        class="form-control"
                        name="txtIdVenta"
                        required=""
                        placeholder=""
                        autofocus=""
                      />
                      <input id="txtIdUsuario" type="hidden" value="<?php echo $_SESSION["idusuario"] ?>"
                      maxlength="50" class="form-control" name="txtIdUsuario"
                      required="" placeholder="" autofocus="" />
                      <input
                        id="txtIdPedido"
                        type="hidden"
                        class="form-control"
                        name="txtIdPedido"
                        required=""
                        placeholder=""
                        autofocus=""
                      />
                      <select
                        id="cboTipoPromocion"
                        name="cboTipoPromocion"
                        class="form-control"
                        required=""
                      >
                        <option value=""></option>
                        <option value="Sin Promocion">Sin Promocion</option>
                        <option value="Promocion 1">Promocion 1</option>
                        <option value="Promocion 2">Promocion 2</option>
                        <option value="Promocion 3">Promocion 3</option>
                        <option value="Promocion 4">Promocion 4</option>
                        <option value="Promocion 5">Promocion 5</option>
                        <option value="Promocion 6">Promocion 6</option>
                        <option value="Promocion 7">Promocion 7</option>
                        <option value="Promocion 8">Promocion 8</option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-2 left">
                    <label for="inputMarca">Modo de Pago:</label>
                    <div class="form-group has-success">
                      <select
                        id="cboModPago"
                        name="cboModPago"
                        class="form-control"
                        required=""
                      >
                        <option value=""></option>
                        <option value="PAGADO">PAGADO</option>
                        <option value="PENDIENTE DE PAGO">
                          PENDIENTE DE PAGO
                        </option>
                      </select>
                    </div>
                    </div>
                  </div>

                  <div class="row">
                      <div class="col-lg-2 left">
                        <label for="inputInscripcion">Imagen de Voucher de Pago:</label>
                        <div class="form-group has-success">
                          <input
                            id="imagenVoucher"
                            type="file"
                            class="form-control"
                            name="imagenVoucher[]"
                            autofocus=""
                            multiple
                            required
                          />
                          <input
                            id="txtRutaImgVoucher"
                            type="text"
                            class="form-control"
                            name="txtRutaImgVoucher"
                            autofocus=""
                          />
                        </div>
                    </div>

                  <style>
                    .image-preview-container {
                      /* display: flex;
              flex-wrap: wrap;
              margin: 0 2px !important; */
                    }
                    .my-images_preview {
                      /* transition: all 0.2s ease; */
                      /* box-shadow: 1px 1px 1px 1px #31b0d3; */
                      margin: 0 10px;
                      border: solid 1px gray;
                      border-radius: 4px;
                    }
                    .my-images_preview:active {
                      /* background-color: red !important; */
                      width: 700px !important;
                      position: fixed;

                      top: 50%;
                      left: 50%;

                      transform: translate(-50%, -50%);
                      z-index: 100000;

                      /* height: 100% !important; */
                    }
                  </style>

                    <div class="col-lg-10 left">
                      <label style="opacity: 0">Observaciones:</label>
                      <div style="display: flex">
                    
                        <div class="col" id="image-preview-container" style="
                                                  display: flex;
                                                  justify-content: center;
                                                  align-items: center;
                                                  flex-wrap: wrap;
                                                  "></div>
                        <button type="button" class="btn btn-danger" id="btn_todos_eliminar_imagen">
                          <i class="fa fa-trash"></i>
                        </button>
                      </div>
                    </div>

                    </div>
                  <div class="row" id="container_imagenes_chat">
                    <div class="col-lg-2 left">
                      <label for="inputInscripcion">Imágenes de Chat confirmacion de pedido:</label>
                      <div class="form-group has-success">
                        <input
                          id="imagenChats"
                          type="file"
                          class="form-control"
                          name="imagenChats[]"
                          autofocus=""
                          multiple
                          required
                        />
                      </div>
                     </div>
                     <div class="col-lg-10 left">
                      <label style="opacity: 0">Observaciones:</label>
                      <div style="display: flex">
                    
                        <div class="col" id="image-preview-container_chat" style="
                                                  display: flex;
                                                  justify-content: center;
                                                  align-items: center;
                                                  flex-wrap: wrap;
                                                  "></div>
                        <button type="button" class="btn btn-danger" id="btn_todos_eliminar_imagen_chat">
                          <i class="fa fa-trash"></i>
                        </button>
                      </div>
                    </div>


                  </div>
                  <div class="row"
                  id="container_imput_magenes_omision_fefo"
                  >

                  

                  </div>
                  <div class="row">
                    
                    <div class="col-lg-12 left">
                      <div class="form-group">
                        <label>Observaciones: </label>
                        <textarea   onkeydown="pulsar(event)" class="form-control" rows="3" name="textObservaciones" id="textObservaciones" maxlength="500"
                          placeholder="Ingresar Observacion sobre la Nota de Venta ..."></textarea>
                      </div>
                    </div>
                  </div>


                  <div class="row">
                    <div class="col-lg-12 left">
                      <div class="form-group">
                        <button
                          type="button"
                          id="btnBuscarDetIng"
                          class="btn btn-info"
                        >
                          <i class="fa fa-search"></i> Buscar Productos
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-9 col-lg-12 main" id="VerDetallePedido">
                  <div class="table-responsive">
                    <table
                      class="table table-striped table-bordered table-condensed table-hover"
                      cellpadding="0"
                      cellspacing="0"
                      border="1"
                      class="display"
                      id="tblDetallePedido"
                    >
                      <thead>
                        <tr>
                          <th>Producto</th>
                          <th>Marca</th>
                          <th>N° Lote</th>
                          <th>Codigo</th>
                          <th>F. Vencimiento</th>
                          <th>Vigencia</th>

                          <th>Stock</th>
                          <th>Cantidad</th>
                          <th>Precio Unit.</th>
                          <th>Dscto Unit.</th>

                          <th>Precio Total</th>
                          <th>Eliminar</th>
                        </tr>
                      </thead>
                      <tbody></tbody>
                    </table>
                  </div>
                </div>
                <div
                  class="col-sm-9 col-sm-offset-3 col-lg-8 col-lg-offset-2 main"
                  id="VerTotalesDetPedido"
                >
                  <div class="row">
                    <div class="col-lg-4 left">
                      <div class="input-group has-error">
                        <div id="SubTotal" class="input-group-addon"></div>
                        <input
                          type="text"
                          class="form-control"
                          id="txtSubTotalPed"
                          name="txtSubTotalPed"
                          placeholder="Sub Total"
                          readonly
                        />
                      </div>
                    </div>
                    <div class="col-lg-4 left has-error">
                      <div class="input-group">
                        <div id="IGV" class="input-group-addon"></div>
                        <input
                          type="text"
                          class="form-control"
                          id="txtIgvPed"
                          name="txtIgvPed"
                          placeholder="I.G.V"
                          readonly
                        />
                      </div>
                    </div>
                    <div class="col-lg-4 left has-error">
                      <div class="input-group">
                        <div id="Total" class="input-group-addon"></div>
                        <input
                          type="text"
                          class="form-control"
                          id="txtTotalPed"
                          name="txtTotalPed"
                          placeholder="Total"
                          readonly
                        />
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-lg-12 left" id="VerRegPedido">
                  <p></p>
                  <button class="btn btn-success" id="btn_registrar_cotizacion" type="submit">
                    <i class="fa fa-floppy-o"></i> Registrar Cotización
                  </button>
                  <button
                    type="button"
                    id="btnGenerarVenta"
                    class="btn btn-warning"
                  >
                    <i class="fa fa-floppy-o"></i> Generar Venta
                  </button>
                  <a href="Pedido.php" class="btn btn-primary"
                    ><i class="fa fa-remove"></i> Cancelar</a
                  >

                  <hr />
                  <span class="lead text-primary"></span>
                </div>
             
              </div>
              <div class="row d-flex flex-wrap"></div>

              <!-- <br><br> -->
            </div>
          </form>
        </div>
      </div>

        <!--Contenido Ver Detalle-->
        <div class="col-sm-14" id="VerForm">
          <form role="form" name="frmVentas" id="frmVentas">
            <div class="row">
              <div class="col-lg-3 left">
                <label for="inputMarca">Tipo de Venta:</label>
                <div class="form-group has-success">
                  <input
                    id="txtIdVenta"
                    type="hidden"
                    maxlength="50"
                    class="form-control"
                    name="txtIdVenta"
                    required=""
                    placeholder=""
                    autofocus=""
                    disabled
                  />
                  <input id="txtIdUsuario" type="hidden" value="<?php echo $_SESSION["idusuario"] ?>"
                  maxlength="50" class="form-control" name="txtIdUsuario"
                  required="" placeholder="" autofocus="" />
                  <input
                    id="txtIdPedido"
                    type="hidden"
                    class="form-control"
                    name="txtIdPedido"
                    required=""
                    placeholder=""
                    autofocus=""
                    disabled
                  />
                  <input
                    id="hdn_idClientePedido"
                    type="hidden"
                    class="form-control"
                    name="hdn_idClientePedido"
                    required=""
                    placeholder=""
                    autofocus=""
                  />
                  <!-- <input id="hdn_metodo_pago" type="text" class="form-control" name="hdn_metodo_pago"/>
                                        <input id="hdn_agencia_envio" type="text" class="form-control" name="hdn_agencia_envio"/>
                                        <input id="hdn_tipo_promocion" type="text" class="form-control" name="hdn_tipo_promocion"/> -->
                  <select
                    id="cboTipoVenta"
                    name="cboTipoVenta"
                    class="form-control"
                    disabled
                    
                  >
                    <option value="Contado">Contado</option>
                    <option value="Credito">Crédito</option>
                  </select>
                </div>
              </div>
              <div class="col-lg-3 left">
                <label for="inputMarca"
                  >T. Comprobante* (Seleccionar Ticket)</label
                >
                <div class="form-group has-success">
                  <select
                  disabled
                    id="cboTipoComprobante"
                    name="cboTipoComprobante"
                    class="form-control"
                  ></select>
                </div>
              </div>
              <div class="col-lg-3 left">
                <label for="inputMarca">Serie/Folio:</label>
                <div class="form-group has-success">
                  <input
                  
                    id="txtIdTipoDoc"
                    type="hidden"
                    maxlength="50"
                    class="form-control"
                    name="txtIdTipoDoc"
                    required=""
                    autofocus=""
                    placeholder=""
                  />
                  <input
                  disabled
                  
                    id="txtSerieVent"
                    type="text"
                    maxlength="50"
                    class="form-control"
                    name="txtSerieVent"
                    required=""
                    autofocus=""
                    placeholder=""
                  />
                </div>
              </div>
              <div class="col-lg-3 left">
                <label for="inputInscripcion">Numero</label>
                <div class="form-group has-success">
                  <input
                  disabled
                    id="txtNumeroVent"
                    type="text"
                    class="form-control"
                    name="txtNumeroVent"
                    required=""
                    placeholder=""
                  />
                </div>
              </div>
              <div class="col-lg-12 left">
                <div class="row">
                  <div class="col-lg-3 left">
                    <div class="form-group has-warning">
                      <label>Ejecutivo:</label>
                      <input
                        id="txtEmpleadoVent"
                        type="text"
                        name="txtEmpleadoVent"
                        class="form-control"
                        readonly="readonly"
                      />
                    </div>
                  </div>
                  <div class="col-lg-3 left">
                    <div class="form-group has-success">
                      <label>Cliente:</label>
                      <input
                        id="txtClienteVent"
                        type="text"
                        name="txtClienteVent"
                        class="form-control"
                        readonly="readonly"
                      />
                    </div>
                  </div>
                  <div class="col-lg-3 left">
                    <div class="form-group has-success">
                      <label>Documento:</label>
                      <input
                        id="txtClienteDni"
                        type="text"
                        name="txtClienteDni"
                        class="form-control"
                        readonly="readonly"
                      />
                    </div>
                  </div>
                  <div class="col-lg-3 left">
                    <div class="form-group has-success">
                      <label>Teléfonos:</label>
                      <input
                        id="txtClienteCel"
                        type="text"
                        name="txtClienteCel"
                        class="form-control"
                        readonly="readonly"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-2 left">
                <label for="inputMarca">Modo de Pago:</label>
                <div class="form-group has-success">
                  
                  <select
                    id="cboModPagoDetalles"
                    name="cboModPagoDetalles"
                    disabled
                    class="form-control"
                    required=""
                  >
                    <option value=""></option>
                    <option value="PAGADO">PAGADO</option>
                    <option value="PENDIENTE DE PAGO">PENDIENTE DE PAGO</option>
                  </select>
                </div>
              </div>
              <div class="col-lg-2 left">
                <label for="inputMarca">Tipo de Entrega:</label>
                <div class="form-group has-success">
                  <select
                    id="cboModTipo_EntregaDetalles"
                    name="cboModTipo_EntregaDetalles"
                    disabled
                    class="form-control"
                    required=""
                  >
                    <option value=""></option>
                    <option value="DOMICILIO">DOMICILIO</option>
                    <option value="AGENCIA EMPRESA">AGENCIA EMPRESA</option>
                  </select>
                </div>
              </div>
              <div class="col-lg-12 left">
                <div class="row">
                  <div class="col-lg-12 col-md-4 col-sm-6 col-xs-12">
                    <div class="form-group has-success">
                      <label>Direccion:</label>
                      <input
                        id="txtClienteDir"
                        type="text"
                        name="txtClienteDir"
                        class="form-control"
                        readonly="readonly"
                      />
                    </div>
                  </div>
                </div>
              </div> 
              <div class="col-lg-12 left">
                <div class="row">
                  <div class="col-lg-2 left">
                    <label for="inputInscripcion">Cuenta Abonada</label>
                    <div class="form-group has-success">
                      <input
                        id="hdn_metodo_pago"
                        type="text"
                        class="form-control"
                        name="hdn_metodo_pago"
                        placeholder=""
                        readonly="readonly"
                      />
                    </div>
                  </div>
                  <div class="col-lg-2 left">
                    <label for="inputInscripcion">Agencia de Transporte</label>
                    <div class="form-group has-success">
                      <input
                        id="hdn_agencia_envio"
                        type="text"
                        class="form-control"
                        name="hdn_agencia_envio"
                        placeholder=""
                        readonly="readonly"
                      />
                    </div>
                  </div>
                  <div class="col-lg-2 left">
                    <label for="inputInscripcion">Promocion</label>
                    <div class="form-group has-success">
                      <input
                        id="hdn_tipo_promocion"
                        type="text"
                        class="form-control"
                        name="hdn_tipo_promocion"
                        placeholder=""
                        readonly="readonly"
                      />
                    </div>
                  </div>
                  <div class="col-lg-2 left">
                    <label for="inputInscripcion">Impuesto</label>
                    <div class="form-group has-success">
                      <input
                        id="txtImpuesto"
                        type="text"
                        class="form-control"
                        name="txtImpuesto"
                        placeholder=""
                        readonly="readonly"
                      />
                    </div>
                  </div>
                  <div class="col-lg-2 left">
                    <label for="inputInscripcion">Total Venta</label>
                    <div class="form-group has-success">
                      <input
                        id="txtTotalVent"
                        type="text"
                        class="form-control"
                        name="txtTotalVent"
                        required=""
                        placeholder=""
                        readonly="readonly"
                      />
                    </div>
                  </div>
                </div>
              </div>

             

                <div class="col-lg-10 left" id="container_metodos_pago">
                  

                 
                </div>
                <div class="col-lg-2 left" id="container_buttonMmetodos_pago">
                  

                 
                </div>
        
              <div class="col-lg-12 left">
                <div class="form-group">
                  <label>Observaciones</label>
                  <textarea
                    class="form-control"
                    rows="3"
                    disabled
                    name="textObservacionesDetalles"
                    id="textObservacionesDetalles"
                    placeholder="Ingresar mensaje ..."
                  ></textarea>
                </div>
              </div>

              <div class="col-lg-12 left" style="display: flex;">
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
                <button class="btn btn-success buttonload" type="submit" id="idbtnRegistar">
                  <i class="fa fa-floppy-o"></i>Registrar
                </button>
                <a href="Pedido.php" class="btn btn-primary"
                  ><i class="fa fa-remove"></i> Cancelar</a
                >

                <div id="container_button_estado_pedido" style="margin: 0 10px;">
                  
                </div>

                <hr />
                <span class="lead text-primary"></span>
              </div>
            </div>
          </form>
          <div class="col-sm-9 col-lg-12 main" id="VerDetallePedido">
            <div class="table-responsive">
              <table
                class="table table-striped table-bordered table-condensed table-hover"
                cellpadding="0"
                cellspacing="0"
                border="1"
                class="display"
                id="tblDetallePedido"
              >
                <thead>
                  <tr>
                    <th>Producto</th>
                    <th>Marca</th>
                    <th>Codigo-Lote</th>
                    <th>Stock</th>
                    <th>F. Vencimiento</th>
                    <th>Cantidad</th>
                    <th>P. Venta</th>
                    <th>Eliminar</th>
                    <th>Descuento</th>
                    <th>Total</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>

          <br /><br />
          <div class="col-sm-4 col-lg-4">
            <ul class="timeline timeline-inverse"
            >
              <li>
                <div class="timeline-item" style="margin: 10px; ">
              
                  <h3 class="timeline-header"><a href="#">Imágenes de Chat confirmacion de pedido:</a> Imagenes</h3>
                  <div class="timeline-body row"
                  id="detalleImagenesChat"

                  style="display: flex;flex-wrap: wrap;
                  align-items: center;
                  justify-content: center;
                  "
                  >
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <div class="col-sm-4 col-lg-4">
            <ul class="timeline timeline-inverse"
            >
              <li>
                <div class="timeline-item" style="margin: 10px; ">
              
                  <h3 class="timeline-header"><a href="#">Imagen de Voucher de Pago:</a> Imagenes</h3>
                  <div class="timeline-body row" id="detalleImagenes"
                  
                  style="display: flex;flex-wrap: wrap;
                  align-items: center;
                  justify-content: center;
                  "

                  >
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <div class="col-sm-4 col-lg-4">
            <ul class="timeline timeline-inverse"
            >
              <li>
                <div class="timeline-item" style="margin: 10px; ">
              
                  <h3 class="timeline-header"><a href="#">Registro de Omisión FEFO</a> Imagenes</h3>
                  <div class="timeline-body"
                  id="detalleImagenesFEFO"

                  style="display: flex;flex-wrap: wrap;
                  align-items: center;
                  justify-content: center;
                  "
                  
                  >
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                    <img src="http://placehold.it/150x100" alt="..." class="margin">
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <style>
            .timeline::before{
              width: 0px !important;
            }
          </style>

          <!-- <div class="col-sm-12 col-lg-12">
            <h4 class="modal-title">Imágenes de Chat confirmacion de pedido:</h4>
            <div class="box-footer">
              <ul
                class="mailbox-attachments clearfix"
                id="detalleImagenesChat"
              ></ul>
            </div>
          </div>

          <div class="col-sm-12 col-lg-12">
            <h4 class="modal-title">Imagen de Voucher de Pago:</h4>
            <div class="box-footer">
              <ul
                class="mailbox-attachments clearfix"
                id="detalleImagenes"
              ></ul>
            </div>
          </div>
          <div class="col-sm-12 col-lg-12" >
            <div style="display: flex;">

              <h4 class="modal-title">Registro de Omisión FEFO</h4>
              <span class="productos_omision_fefo">  </span>
            </div>
            <div class="box-footer">
              <ul
                class="mailbox-attachments clearfix"
                id="detalleImagenesFEFO"
              ></ul>
            </div>
          </div> -->

        </div>
         <?php 
       if($_SESSION["idempleado"]==14 ||$_SESSION["idempleado"]==15 ||$_SESSION["idempleado"]==16 ||$_SESSION["idempleado"]==18||$_SESSION["idempleado"]==19||$_SESSION["idempleado"]==20||$_SESSION["idempleado"]==17||$_SESSION["idempleado"]==6 )
         {
          echo ' <button class="btn btn-primary"
          id="btnNuevoPedido_nuevo">
            <i class="fa fa-file"></i> Nueva Nota de Venta
          </button>';
      } else {
       
      }
        ?>
       
        <br /><br />
        <div id="VerListado" class="table-responsive">
          <table
            id="tblVentapedido"
            class="table table-striped table-bordered"
            cellspacing="0"
            width="100%"
          >
            <thead>
              <tr>
                <th>#</th>
                <th>Sede</th>
                <th>Fecha y Hora</th>
                <th>Número de N.V.</th>
                <th>Ejecutivo V.</th>
                <th>Cliente</th>
                <th>Transporte</th>
                <th>Venta Bruta</th>
                <th>Estado</th>
                <th>Opciones</th>
                <!-- <th>Numero</th> -->
              </tr>
            </thead>

            <tfoot>
              <tr>
                <th>#</th>
                <th>Sede</th>
                <th>Fecha y Hora</th>
                <th>Número de N.V.</th>
                <th>Ejecutivo V.</th>
                <th>Cliente</th>
                <th>Transporte</th>
                <th>Venta Bruta</th>
                <th>Estado</th>
                <th>Opciones</th>
                <!-- <th>Numero</th> -->
              </tr>
            </tfoot>
          </table>
        </div>
        <!--Fin-Contenido-->
      </div>
    </div>
    <!-- /.row -->
  </div>
  <!-- /.box-body -->
</div>
<!-- /.box -->

<div
  id="modalCredito"
  class="modal fade bs-example-modal-lg"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myLargeModalLabel"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">×</button>
        <h3 class="myModalLabel">Registrar Credito</h3>
      </div>
      <div class="modal-body">
        <form role="form" name="frmCreditos" id="frmCreditos">
          <div class="col-lg-12">
            <div class="row">
              <div class="col-lg-4 left">
                <div class="form-group">
                  <label for="inputNombre">Fecha de Pago</label>
                  <input
                    id="txtIdCredito"
                    type="hidden"
                    class="form-control"
                    name="txtIdCredito"
                    required=""
                    placeholder=""
                  />
                  <input
                    id="txtIdVentaCred"
                    type="hidden"
                    class="form-control"
                    name="txtIdVenta"
                    required=""
                    placeholder=""
                  />
                  <input id="cboFechaPago" type="date" class="form-control"
                  name="cboFechaPago" value="<?php echo date("Y-m-d"); ?>"
                  required="" placeholder="" />
                </div>
              </div>
              <div class="col-lg-4 left">
                <div class="form-group">
                  <label for="inputApellidos">Total de Pago</label>
                  <input
                    id="txtTotalPago"
                    type="text"
                    class="form-control"
                    name="txtTotalPago"
                    required=""
                    placeholder=""
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" data-dismiss="modal" class="btn btn-default">
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Registrar </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div
  id="modalListadoCliente"
  class="modal modal-static fade bs-example-modal-lg"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myLargeModalLabel"
>
<style>


</style>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Listado de Clientes</h4>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table
            id="tblClientees"
            class="table table-striped table-bordered table-condensed table-hover"
            cellpadding="0"
            cellspacing="0"
            width="100%"
          >
            <thead>
              <tr>
                <th>X</th>
                <th>#</th>
                <th>T.Cliente</th>
                <th>DNI</th>
                <th>Cliente</th>
                <th>Telefono</th>
                <th>Direccion</th>
                <th>Email</th>
              </tr>
            </thead>

            <tfoot>
              <tr>
                <th>X</th>
                <th>#</th>
                <th>T.Cliente</th>
                <th>DNI</th>
                <th>Cliente</th>
                <th>Telefono</th>
                <th>Direccion</th>
                <th>Email</th>
              </tr>
            </tfoot>

            <tbody id="Cliente"></tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-default"
          id="btnCerrarBusqueda"
          data-dismiss="modal"
        >
          <i class="fa fa-remove"></i> Cerrar
        </button>
        <button type="button" id="btnAgregarCliente" class="btn btn-primary">
          <i class="fa fa-plus"></i> Agregar
        </button>
      </div>
    </div>
  </div>
</div>

<div
  id="modalListadoArticulosPed"
  class="modal fade bs-example-modal-lg"
  tabindex="-1"
  style="width: 100% !important;margin:0 !important;padding: 0 !important;"
  role="dialog"
  aria-labelledby="myLargeModalLabel"
>
  <div class="modal-dialog modal-lg" style="margin:0 !important;padding-right: 17px; display: flex; align-items: center;justify-content: center;width: 100% !important">
    <div class="modal-content " style="width: 80% !important;margin:0 !important;padding: 0;">
      <div class="modal-header">
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Lista de Productos</h4>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table
            id="tblArticulosPed"
            class="table table-striped table-bordered table-condensed table-hover"
            cellpadding="0"
            cellspacing="0"
            width="100%"
          >
            <thead>
              <tr>
                <th>Añadir</th>
                <th>Sucursal</th>
                <th>Estado</th>
                <th>Lote</th>
                <th>Producto</th>
                <th>Marca</th>
                <th>Vencimiento</th>
                <th>Vigencia</th>
                <th>Stock</th>
                <th>P. Venta </th>
                <th>P. Distribuidor</th>
                <th>P. Super Distribuidor</th>
                <th>P. Representante</th>
                <th>Imagen</th>
              </tr>
            </thead>
            <tfoot>
              <tr>
                <th>Añadir</th>
                <th>Sucursal</th>
                <th>Estado</th>
                <th>Lote</th>
                <th>Producto</th>
                <th>Marca</th>
                <th>Vencimiento</th>
                <th>Vigencia</th>
                <th>Stock</th>
                <th>P. Venta </th>
                <th>P. Distribuidor</th>
                <th>P. Super Distribuidor</th>
                <th>P. Representante</th>
                <th>Imagen</th>
              </tr>
            </tfoot>
            <tbody id="ArticuloPed" style="text-align: center"></tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">
          <i class="fa fa-remove"></i> Cerrar
        </button>
        <!--<button type="button" id="btnAgregarArtPed" class="btn btn-primary">
<i class="fa fa-plus"></i> Agregar</button>-->
      </div>
    </div>
  </div>
</div>

<div
  id="modal-eliminar-imagen"
  class="modal fade bs-example-modal-lg"
  tabindex="-1"
  role="dialog"
  aria-labelledby="myLargeModalLabel"
>
  <input type="hidden" id="hdn_iddetalleimagen" />
  <input type="hidden" id="hdn_numerdetalleimagen" />
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Eliminar imágen</h4>
      </div>
      <div class="modal-body">
        <p>¿Esta seguro de eliminar esta imágen?</p>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-danger pull-left"
          id="btn_cancelar_imagen"
        >
          Cancelar
        </button>
        <button type="button" class="btn btn-primary" id="btn_eliminar_imagen">
          Aceptar
        </button>
      </div>
    </div>
  </div>
</div>
<!-- <link
  href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
  rel="stylesheet"
/>

<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script> -->
<script type="text/javascript">

$('#container_datos_cliente_seleccionado').hide();
 $("#slc_select_cliente").on("select2:select", function (e) {
      // tabla.ajax.reload();
      // console.log($("#slc_select_cliente").data('nombre'))

      var opcionSeleccionada = e.params.data;
      


      elementos=[]

      ConsultarDetallesPed()
      tipo_persona = opcionSeleccionada.tipo_persona;

    console.log(opcionSeleccionada.ubicacion)
      $('#container_datos_cliente_seleccionado').show();
      $('#txtNuevoNombre').val(opcionSeleccionada.nombre_completo)
      $('#txtNuevoDocumento').val(opcionSeleccionada.documento)
      $('#txtNuevoCelulares').val(opcionSeleccionada.telefonos)
      $('#txtNuevoUbicacion').val(opcionSeleccionada.ubicacion)
      $('#txtNuevoDireccion').val(opcionSeleccionada.direccion)
      

      // $("#slc_select_cliente").prop("disabled", true);

      $("#txtIdCliente").val($('#slc_select_cliente').val());
    });


function formatRepo(repo) {
      if (repo.loading) return repo.texto;


      var markup =
        `<option value='${repo.id}'
        
        data-tipo_persona='${repo.tipo_persona}' 
        data-nombre_completo='${repo.nombre_completo}' data-documento='${repo.documento}' data-telefonos='${repo.telefonos}' data-ubicacion='${repo.ubicacion}' data-direccion='${repo.direccion}' >${repo.texto}</option>`;
      
     
        return markup;
    }

    function formatRepoSelection(repo) {
      return repo.texto || repo.id;
    }

$("#slc_select_cliente").select2({
      ajax: {
        url: "./ajax/PedidoAjax.php?op=buscarCliente",
        dataType: "json",
        delay: 250,
        data: function (params) {
          return {
            q: params.term,
            page: params.page,
          };
        },
        processResults: function (data, params) {
          params.page = params.page || 1;
          return {
            results: data.items,
            pagination: {
              more: params.page * 30 < data.total_count,
            },
          };
        },
        cache: true,
      },
      escapeMarkup: function (markup) {
        return markup;
      },
      // minimumInputLength: 1,

      language: {
        inputTooShort: function () {
          return "Ingresar 3 caracteres para buscar...";
        },
      },
      templateResult: formatRepo,
      templateSelection: formatRepoSelection,
  });





  $("#liVentas").addClass("treeview active");
  $("#liPedido").addClass("active");





  function TraerBanco() {
    console.log('se trajeron los bancos')
    $.ajax({
      url: "./ajax/BancoAjax.php?op=listSelect",
      dataType: "json",
      type: "get",
      success: function (rpta) {
       
        
        let data=rpta

        console.log(data)
        var ubicacion_containe_options_html = '<option value=""></option>';

        data.map((e) => {
          ubicacion_containe_options_html += `<option data-id='${e.idbanco_cuenta}' value='${e.idbanco_cuenta}'>${e.descripcion} </option>`;
        });

        $(".inputs_tipo_banco").html(ubicacion_containe_options_html)



        $(".inputs_tipo_banco").each(function(index, select) {
  // Obtenemos el valor almacenado en el array
        var valorSeleccionado = arrayMetodosPago[index][2];
        // Seleccionamos la opción correspondiente
        $(select).val(valorSeleccionado);
      })


      },
      error: function (e) {

        console.log(e)
      },
    });
  }

  

  function TraerMetodoPago() {
    console.log('se trajeron los metodos de pago')
    $.ajax({
      url: "./ajax/Metodo_PagoAjax.php?op=listSelect",
      dataType: "json",
      type: "get",
      success: function (rpta) {
        arraryTipoMetodoPago=[...rpta]
        let data=rpta
        var ubicacion_containe_options_html = '<option value="" ></option>';
        
        data.map((e) => {
          ubicacion_containe_options_html += `<option data-id='${e.idtipo_metodo_pago}' value='${e.idtipo_metodo_pago}'>${e.descripcion} </option>`;
        });

        $(".inputs_tipo_metodo_pago").html(ubicacion_containe_options_html);


        $(".inputs_tipo_metodo_pago").each(function(index, select) {
  // Obtenemos el valor almacenado en el array
  var valorSeleccionado = arrayMetodosPago[index][1];
  // Seleccionamos la opción correspondiente
  $(select).val(valorSeleccionado);
})

      },
      error: function (e) {},
    });
  }

  // traerUbicacion();
  // function traerUbicacion() {
  //   $.ajax({
  //     url: "./ajax/ClienteAjax.php?op=traerUbicacion",
  //     dataType: "json",
  //     type: "get",
  //     success: function (rpta) {
  //       var ubicacion_containe_options_html = "";

  //       rpta.map((e) => {
  //         ubicacion_containe_options_html += `<option data-id='${e.idubicacion}' value='${e.ubicacion}'>${e.idubicacion}</option>`;
  //       });
  //       // console.log(rpta);

  //       $(".ubicacion_containe_options").html(ubicacion_containe_options_html);





  //     },
  //     error: function (e) {},
  //   });
  // }
  
</script>
